@model IEnumerable<Behapy.Presentation.Models.CartItem>

@{
  ViewData["Title"] = "Dashboard";
  Layout = "~/Views/Shared/Admin/_Layout.cshtml";
}

<div class="main-content">
  <div class="row">
    <div class="col-md-6 col-lg-4">
      <div class="card">
        <div class="card-body">
          <div class="media align-items-center">
            <div class="avatar avatar-icon avatar-lg avatar-blue">
              <i class="anticon anticon-dollar"></i>
            </div>
            <div class="m-l-15">
              <h2 class="m-b-0">23,523 VNĐ</h2>
              <p class="m-b-0 text-muted">Doanh thu</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-lg-4">
      <div class="card">
        <div class="card-body">
          <div class="media align-items-center">
            <div class="avatar avatar-icon avatar-lg avatar-gold">
              <i class="anticon anticon-profile"></i>
            </div>
            <div class="m-l-15">
              <h2 class="m-b-0">3,685</h2>
              <p class="m-b-0 text-muted">Đơn hàng</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-6 col-lg-4">
      <div class="card">
        <div class="card-body">
          <div class="media align-items-center">
            <div class="avatar avatar-icon avatar-lg avatar-purple">
              <i class="anticon anticon-user"></i>
            </div>
            <div class="m-l-15">
              <h2 class="m-b-0">1,832</h2>
              <p class="m-b-0 text-muted">Khách hàng</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-lg-8">
      <div class="card">
        <div class="card-body">
          <div
            class="d-flex justify-content-between align-items-center">
            <h5>Tổng doanh thu</h5>
            <div>
              <div class="btn-group">
                <button class="btn btn-default active">
                  <span>Tháng</span>
                </button>
                <button class="btn btn-default">
                  <span>Năm</span>
                </button>
              </div>
            </div>
          </div>
          <div class="m-t-50" style="height: 330px">
            <canvas class="chart" id="revenue-chart"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 col-lg-4">
      <div class="card">
        <div class="card-body">
          <h5 class="m-b-0">Khách hàng</h5>
          <div class="m-v-60 text-center" style="height: 200px">
            <canvas class="chart" id="customers-chart"></canvas>
          </div>
          <div class="row border-top p-t-25">
            <div class="col-4">
              <div class="d-flex justify-content-center">
                <div class="media align-items-center">
                  <span
                    class="badge badge-success badge-dot m-r-10">
                  </span>
                  <div class="m-l-5">
                    <h4 class="m-b-0">350</h4>
                    <p class="m-b-0 muted">Mới</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="d-flex justify-content-center">
                <div class="media align-items-center">
                  <span
                    class="badge badge-secondary badge-dot m-r-10">
                  </span>
                  <div class="m-l-5">
                    <h4 class="m-b-0">450</h4>
                    <p class="m-b-0 muted">Quay lại</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-4">
              <div class="d-flex justify-content-center">
                <div class="media align-items-center">
                  <span
                    class="badge badge-warning badge-dot m-r-10">
                  </span>
                  <div class="m-l-5">
                    <h4 class="m-b-0">100</h4>
                    <p class="m-b-0 muted">Khác</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 col-lg-4">
      <div class="card">
        <div class="card-body">
          <div
            class="d-flex justify-content-between align-items-center">
            <div>
              <h2 class="m-b-0">17,267 VNĐ</h2>
              <p class="m-b-0 text-muted">Trung bình doanh thu</p>
            </div>
            <div>
              <span class="badge badge-pill badge-cyan font-size-12">
                <span class="font-weight-semibold m-l-5">+5.7%</span>
              </span>
            </div>
          </div>
          <div class="m-t-50" style="height: 375px">
            <canvas class="chart" id="avg-profit-chart"></canvas>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-12 col-lg-8">
      <div class="card">
        <div class="card-body">
          <div
            class="d-flex justify-content-between align-items-center">
            <h5>Sản phẩm bán chạy nhất</h5>
            <div>
              <a
                href="javascript:void(0);"
                class="btn btn-sm btn-default">
                Xem tất cả
              </a
              >
            </div>
          </div>
          <div class="m-t-30">
            <div class="table-responsive">
              <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Sản phẩm</th>
                    <th>Số lượng đã bán</th>
                    <th>Tổng tiền</th>
                    <th style="max-width: 70px">Tồn kho</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <div class="media align-items-center">
                        <div class="avatar avatar-image rounded">
                          <img
                            src="~/images/admin/others/thumb-9.jpg"
                            alt=""/>
                        </div>
                        <div class="m-l-10">
                          <span>Gray Sofa</span>
                        </div>
                      </div>
                    </td>
                    <td>81</td>
                    <td>$1,912.00</td>
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="progress progress-sm w-100 m-b-0">
                          <div
                            class="progress-bar bg-success"
                            style="width: 82%">
                          </div>
                        </div>
                        <div class="m-l-10">82</div>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="media align-items-center">
                        <div class="avatar avatar-image rounded">
                          <img
                            src="~/images/admin/others/thumb-10.jpg"
                            alt=""/>
                        </div>
                        <div class="m-l-10">
                          <span>Gray Sofa</span>
                        </div>
                      </div>
                    </td>
                    <td>26</td>
                    <td>$1,377.00</td>
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="progress progress-sm w-100 m-b-0">
                          <div
                            class="progress-bar bg-success"
                            style="width: 61%">
                          </div>
                        </div>
                        <div class="m-l-10">61</div>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="media align-items-center">
                        <div class="avatar avatar-image rounded">
                          <img
                            src="~/images/admin/others/thumb-11.jpg"
                            alt=""/>
                        </div>
                        <div class="m-l-10">
                          <span>Wooden Rhino</span>
                        </div>
                      </div>
                    </td>
                    <td>71</td>
                    <td>$9,212.00</td>
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="progress progress-sm w-100 m-b-0">
                          <div
                            class="progress-bar bg-danger"
                            style="width: 23%">
                          </div>
                        </div>
                        <div class="m-l-10">23</div>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="media align-items-center">
                        <div class="avatar avatar-image rounded">
                          <img
                            src="~/images/admin/others/thumb-12.jpg"
                            alt=""/>
                        </div>
                        <div class="m-l-10">
                          <span>Red Chair</span>
                        </div>
                      </div>
                    </td>
                    <td>79</td>
                    <td>$1,298.00</td>
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="progress progress-sm w-100 m-b-0">
                          <div
                            class="progress-bar bg-warning"
                            style="width: 54%">
                          </div>
                        </div>
                        <div class="m-l-10">54</div>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <div class="media align-items-center">
                        <div class="avatar avatar-image rounded">
                          <img
                            src="~/images/admin/others/thumb-13.jpg"
                            alt=""/>
                        </div>
                        <div class="m-l-10">
                          <span>Wristband</span>
                        </div>
                      </div>
                    </td>
                    <td>60</td>
                    <td>$7,376.00</td>
                    <td>
                      <div class="d-flex align-items-center">
                        <div class="progress progress-sm w-100 m-b-0">
                          <div
                            class="progress-bar bg-success"
                            style="width: 76%">
                          </div>
                        </div>
                        <div class="m-l-10">76</div>
                      </div>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

@section Scripts {
  <script src="~/js/admin/vendors/chartjs/Chart.min.js"></script>
  
  <script>
    var themeColors;

    class DashboardDefault {
      static init() {
        const revenueChartConfig = new Chart(
          document.getElementById('revenue-chart').getContext('2d'),
          {
            type: 'line',
            data: {
              labels: [
                'T1',
                'T2',
                'T3',
                'T4',
                'T5',
                'T5',
                'T7',
                'T8',
                'T9',
                'T10',
                'T11',
                'T12',
              ],
              datasets: [
                {
                  label: 'Series A',
                  backgroundColor: themeColors.transparent,
                  borderColor: themeColors.blue,
                  pointBackgroundColor: themeColors.blue,
                  pointBorderColor: themeColors.white,
                  pointHoverBackgroundColor: themeColors.blueLight,
                  pointHoverBorderColor: themeColors.blueLight,
                  data: [30, 60, 40, 50, 40, 55, 85, 65, 75, 50, 70],
                },
              ],
            },
            options: {
              legend: {
                display: false,
              },
              maintainAspectRatio: false,
              responsive: true,
              hover: {
                mode: 'nearest',
                intersect: true,
              },
              tooltips: {
                mode: 'index',
              },
              scales: {
                xAxes: [
                  {
                    gridLines: [
                      {
                        display: false,
                      },
                    ],
                    ticks: {
                      display: true,
                      fontColor: themeColors.grayLight,
                      fontSize: 13,
                      padding: 10,
                    },
                  },
                ],
                yAxes: [
                  {
                    gridLines: {
                      drawBorder: false,
                      drawTicks: false,
                      borderDash: [3, 4],
                      zeroLineWidth: 1,
                      zeroLineBorderDash: [3, 4],
                    },
                    ticks: {
                      display: true,
                      max: 100,
                      stepSize: 20,
                      fontColor: themeColors.grayLight,
                      fontSize: 13,
                      padding: 10,
                    },
                  },
                ],
              },
            },
          }
        );
  
        const customersChartConfig = new Chart(
          document.getElementById('customers-chart').getContext('2d'),
          {
            type: 'doughnut',
            data: {
              labels: ['New', 'Returning', 'Others'],
              datasets: [
                {
                  label: 'Series A',
                  backgroundColor: [
                    themeColors.cyan,
                    themeColors.purple,
                    themeColors.gold,
                  ],
                  pointBackgroundColor: [
                    themeColors.cyan,
                    themeColors.purple,
                    themeColors.gold,
                  ],
                  data: [350, 450, 100],
                },
              ],
            },
            options: {
              legend: {
                display: false,
              },
              cutoutPercentage: 75,
              maintainAspectRatio: false,
            },
          }
        );
  
        const avgProfitChartConfig = new Chart(
          document.getElementById('avg-profit-chart').getContext('2d'),
          {
            type: 'bar',
            data: {
              labels: ['T1', 'T2', 'T3', 'T4', 'T5', 'T6', 'T7', 'T8', 'T9', 'T10', 'T11', 'T12'],
              datasets: [
                {
                  label: 'Series A',
                  backgroundColor: themeColors.blue,
                  borderWidth: 0,
                  data: [38, 38, 30, 19, 56, 55, 31],
                },
                {
                  label: 'Series B',
                  backgroundColor: themeColors.blueLight,
                  borderWidth: 0,
                  data: [55, 69, 90, 81, 86, 27, 77],
                },
              ],
            },
            options: {
              legend: {
                display: false,
              },
              scaleShowVerticalLines: false,
              responsive: true,
              maintainAspectRatio: false,
              scales: {
                xAxes: [
                  {
                    categoryPercentage: 0.35,
                    barPercentage: 0.3,
                    display: true,
                    stacked: true,
                    scaleLabel: {
                      display: false,
                      labelString: 'Month',
                    },
                    gridLines: false,
                    ticks: {
                      display: true,
                      beginAtZero: true,
                      fontSize: 13,
                      padding: 10,
                    },
                  },
                ],
                yAxes: [
                  {
                    categoryPercentage: 0.35,
                    barPercentage: 0.3,
                    display: true,
                    stacked: true,
                    scaleLabel: {
                      display: false,
                      labelString: 'Value',
                    },
                    gridLines: {
                      drawBorder: false,
                      offsetGridLines: false,
                      drawTicks: false,
                      borderDash: [3, 4],
                      zeroLineWidth: 1,
                      zeroLineBorderDash: [3, 4],
                    },
                    ticks: {
                      stepSize: 40,
                      display: true,
                      beginAtZero: true,
                      fontSize: 13,
                      padding: 10,
                    },
                  },
                ],
              },
            },
          }
        );
      }
    }
  
    $(() => {
      DashboardDefault.init();
    });
  </script>
}
